self.webpackHotUpdateextensions(179,{761:(t,s,i)=>{"use strict";i.d(s,{Z:()=>o});var e=i(586),a=i(912),n=i(932),r=i(559).default;const o={components:{Error:e.Z,Spinner:a.Z,Form:n.Z},data:function(){return{selfURL:globals.selfURL,error:!1,loading:!1,tab:"list",list:!1,form:!1}},created:function(){var t=this;this.loadList(),EventBus.$on("show--list",(function(s){t.form=!1,t.tab="list"})),EventBus.$on("item-form--submit",(function(s){if(console.log(s),!s.item.uniqid)return!1;t.loading=!0;var i=t,e=new FormData;e.append("id",s.item.id||!1),e.append("uniqid",s.item.uniqid||""),e.append("position",s.item.position||""),e.append("access",JSON.stringify(s.item.access)||""),r.post(t.selfURL+"&task=item-submit&id="+s.item.id,e).then((function(t){t.data?1!=t.data.error?(i.loadList(),i.tab="list",i.form=!1):i.error=t.data.msg:i.error="Fehler beim Laden. 01"})).catch((function(t){i.error="Fehler beim Laden. 02"})).finally((function(){i.loading=!1}))}))},methods:{handlerToggleAccess:function(t){1==this.form.access[t]?this.form.access[t]=0:this.form.access[t]=1},handlerFormShow:function(t){this.form=t,this.tab="form"},loadList:function(){this.loading=!0;var t=this;r.get(this.selfURL+"&task=api-list").then((function(s){s.data?t.list=s.data:t.error="Fehler beim Laden. 01"})).catch((function(){t.error="Fehler beim Laden. 02"})).finally((function(){t.loading=!1}))},handlerToggleActive:function(t){if(!t.uniqid)return!1;this.error=!1;var s=new FormData;s.append("uniqid",t.uniqid),s.append("position",t.position),s.append("access",JSON.stringify(t.access)),this.loading=!0;var i=this;r.post(this.selfURL+"&task=api-toggle-active",s,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){t.data?1==t.data.error?i.error=t.data.msg:(i.error=!1,i.loadList()):i.error="Fehler beim Aktivieren. 01"})).catch((function(){i.error="Fehler beim Aktivieren. 02"})).finally((function(){}))}}}},62:(t,s,i)=>{"use strict";i.r(s),i.d(s,{render:()=>e,staticRenderFns:()=>a});var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("Error",{attrs:{error:t.error}}),t._v(" "),i("Spinner",{attrs:{loading:t.loading}}),t._v(" "),"form"==t.tab?i("div",{staticClass:"padding-t-l"},[i("Form",{attrs:{item:t.form}})],1):t._e(),t._v(" "),"list"==t.tab?i("div",[t._m(0),t._v(" "),t._l(t.list,(function(s,e){return i("div",{key:e,staticClass:"padding-t-l"},[i("h4",[i("i",{staticClass:"fa fas fa-plug"}),t._v(" "+t._s(s.title))]),t._v(" "),i("table",{staticClass:"si-table"},[t._m(1,!0),t._v(" "),i("tbody",t._l(s.widgets,(function(s,e){return i("tr",{key:e,staticClass:"line-oddEven"},[i("td",[i("a",{on:{click:function(i){return t.handlerFormShow(s)}}},[t._v(t._s(s.title)+" "),i("div",{staticClass:"text-small text-grey"},[t._v(t._s(s.uniqid))])])]),t._v(" "),i("td",[i("span",{staticClass:"text-grey"},[t._v(t._s(s.position))])]),t._v(" "),i("td",[1==s.status?i("button",{staticClass:"si-btn si-btn-light text-green",on:{click:function(i){return t.handlerToggleActive(s)}}},[i("i",{staticClass:"fas fa-toggle-on"}),t._v(" An")]):t._e(),t._v(" "),0==s.status?i("button",{staticClass:"si-btn si-btn-light",on:{click:function(i){return t.handlerToggleActive(s)}}},[i("i",{staticClass:"fas fa-toggle-off"}),t._v(" Aus")]):t._e()]),t._v(" "),i("td",{on:{click:function(i){return t.handlerFormShow(s)}}},[1==s.access.admin?i("button",{staticClass:"si-btn si-btn-light si-btn-small margin-r-s"},[t._v(" Admin")]):t._e(),t._v(" "),1==s.access.adminGroup?i("button",{staticClass:"si-btn si-btn-light si-btn-small margin-r-s"},[t._v(" Moduladmin")]):t._e(),t._v(" "),1==s.access.teacher?i("button",{staticClass:"si-btn si-btn-light si-btn-small margin-r-s"},[t._v(" Lehrer")]):t._e(),t._v(" "),1==s.access.pupil?i("button",{staticClass:"si-btn si-btn-light si-btn-small margin-r-s"},[t._v(" SchÃ¼ler")]):t._e(),t._v(" "),1==s.access.parents?i("button",{staticClass:"si-btn si-btn-light si-btn-small margin-r-s"},[t._v(" Eltern")]):t._e(),t._v(" "),1==s.access.other?i("button",{staticClass:"si-btn si-btn-light si-btn-small margin-r-s"},[t._v(" Sonsitige")]):t._e(),t._v(" "),0==s.access.admin&&0==s.access.adminGroup&&0==s.access.teacher&&0==s.access.pupil&&0==s.access.parents&&0==s.access.other?i("span",[1==s.status?i("button",{staticClass:"si-btn si-btn-red si-btn-small margin-r-s"},[t._v(" Unsichtbar !")]):t._e()]):t._e()])])})),0)])])}))],2):t._e()],1)},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("h3",[i("i",{staticClass:"fa fas fa-chart-pie"}),t._v(" VerfÃ¼gbare Widgets")])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("thead",[i("tr",[i("td",[t._v("Name")]),t._v(" "),i("td",[t._v("Position")]),t._v(" "),i("td",[t._v("Aktiviert")]),t._v(" "),i("td",[t._v("Sichtbarkeit")])])])}];e._withStripped=!0}},(function(t){"use strict";t.h=()=>"8ef269ba83b040428a9c"}));